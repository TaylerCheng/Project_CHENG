<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:jaxws="http://cxf.apache.org/jaxws"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd">

    <!--<import resource="classpath:META-INF/cxf/cxf.xml"/>-->
    <!--<import resource="classpath:META-INF/cxf/cxf-extension-soap.xml"/>-->
    <!--<import resource="classpath:META-INF/cxf/cxf-servlet.xml"/>-->

    <!--<jaxws:endpoint id="helloWorld" implementor="com.cg.web.cxf.service.impl.HelloWorldImpl" address="/helloWorld"/>-->

    <!--<bean id="client" class="com.cg.web.cxf.service.HelloWorld" factory-bean="clientFactory" factory-method="create"/>-->

    <!--<bean id="clientFactory" class="org.apache.cxf.jaxws.JaxWsProxyFactoryBean">-->
    <!--<property name="serviceClass" value="com.cg.web.cxf.service.HelloWorld"/>-->
    <!--<property name="address" value="http://localhost:8080/s/webservice/helloWorld"/>-->
    <!--</bean>-->

    <!--被代理的对象-->
    <bean id="iMyHelloService" class="com.cg.web.cxf.aop.service.impl.MyHelloServiceImpl"/>
    <!--前置通知类-->
    <bean id="myMethodBeforeAdvice" class="com.cg.web.cxf.aop.advice.MyMethodBeforeAdvice"/>

    <!--定义引入通知，引入通知是通过配置的，实现自定义切入点，和上述四个通知配合使用 -->
    <bean id="nameMatchMethodPointcutAdvisor" class="org.springframework.aop.support.NameMatchMethodPointcutAdvisor">
        <property name="advice" ref="myMethodBeforeAdvice"/>
        <property name="mappedNames">
            <list>
                <value>sayH*</value>
            </list>
        </property>
    </bean>


    <!--定义代理类-->
    <bean id="proxyFactoryBean" class="org.springframework.aop.framework.ProxyFactoryBean">
        <!--定义代理的接口-->
        <property name="proxyInterfaces" >
            <list>
                <value>com.cg.web.cxf.aop.service.IMyHelloService</value>
            </list>
        </property>
        <!--定义通知（拦截器）-->
        <property name="interceptorNames">
            <list>
                <!--<value>myMethodBeforeAdvice</value>-->
                <value>nameMatchMethodPointcutAdvisor</value>
            </list>
        </property>
        <!--定义代理对象，织入通知-->
        <property name="target" ref="iMyHelloService"/>
    </bean>


</beans>